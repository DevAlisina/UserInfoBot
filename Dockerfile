# این داکرفایل (Dockerfile) محیط لازم برای اجرای ربات تلگرام PHP شما را می سازد.
# این فایل به داکر می گوید که چگونه یک "ایمیج" (image) بسازد که شامل PHP و یک وب سرور است،
# تا ربات شما بتواند پیام های تلگرام را دریافت و پردازش کند.

# مرحله 1: انتخاب ایمیج پایه
# ما از ایمیج رسمی PHP نسخه 8.2 همراه با سرور Apache استفاده می کنیم.
# این ایمیج عالیه چون هم PHP رو داره و هم آپاچی رو از قبل تنظیم کرده تا فایل های PHP رو اجرا کنه.
# این کار راه اندازی رو فوق العاده آسون می کنه!
FROM php:8.2-apache

# مرحله 2: تنظیم دایرکتوری کاری
# این دستور دایرکتوری کاری پیش فرض داخل کانتینر رو مشخص می کنه.
# تمام فایل هایی که بعدا کپی می کنیم، نسبت به این مسیر قرار می گیرند.
# برای آپاچی، دایرکتوری پیش فرض وب /var/www/html است که فایل های وب در آن قرار می گیرند.
WORKDIR /var/www/html

# مرحله 3: کپی کردن فایل ربات
# این دستور فایل 'bot.php' شما رو (که باید در کنار همین داکرفایل باشه)
# به داخل دایرکتوری کاری کانتینر (یعنی /var/www/html) کپی می کنه.
# اینجاست که سرور وب می تونه به کد ربات شما دسترسی پیدا کنه.
COPY bot.php .

# مرحله 4: باز کردن پورت (Expose Port)
# این دستور به داکر می گه که کانتینر روی پورت 80 (پورت استاندارد برای ترافیک HTTP) به درخواست ها گوش میده.
# پلتفرم هایی مثل Render.com از این اطلاعات برای هدایت ترافیک ورودی به اپلیکیشن شما استفاده می کنن.
EXPOSE 80

# نکته: در این ایمیج پایه، آپاچی از قبل طوری پیکربندی شده که فایل های PHP رو اجرا کنه.
# بنابراین، نیازی به دستورات CMD یا ENTRYPOINT اضافی برای شروع سرور نیست،
# چون ایمیج پایه خودش آپاچی رو به صورت خودکار راه اندازی می کنه.
